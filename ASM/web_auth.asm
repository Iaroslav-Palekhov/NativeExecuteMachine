; ====================================================
;  web_auth.asm — Сайт с регистрацией и входом
;  Использует db.json как базу данных
;  Запуск: dotnet run web_auth.asm
; ====================================================

__start:
    go main

.p main:
    out "=================================", 1
    out "  nemASM Web Auth Server", 1
    out "=================================", 1
    out "  POST /api/register  — регистрация", 1
    out "  POST /api/login     — вход", 1
    out "  GET  /api/users     — список юзеров", 1
    out "  GET  /              — главная страница", 1
    out "=================================", 1

    ; Запускаем HTTP сервер на порту 8080
    ; Папка www/ будет корнем сайта
    ; db.json создастся автоматически в www/db.json
    httpserve "8080" "www"

__stop:
    clear registres
